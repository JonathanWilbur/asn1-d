
<html>
    <head>
        <!-- Standard -->
        <title>types.universal.external</title>
        <meta charset="utf-8">
        <meta name="author" content="Jonathan M. Wilbur jonathan@wilbur.space">
        <meta name="description" content="ASN.1 Codecs, as specified in ITU X.690, including BER, DER, and PER">
        <meta name="keywords" content="types.universal.external,asn1,asn.1,x690,x.690,ber,cer,der,per,basic encoding rules,codec,dlang,d">
        <meta name="theme-color" content="#FFFFFF">

        <!-- Google -->
        <meta name="application-url" content="https://github.com/JonathanWilbur/asn1-d">
        <meta name="audience" content="grownup">
        <meta itemprop="name" content="types.universal.external - ASN.1 D Library">
        <meta itemprop="description" content="ASN.1 Codecs, as specified in ITU X.690, including BER, DER, and PER">

        <!-- Apple -->
        <meta name="apple-mobile-web-app-title" content="types.universal.external">
        <meta name="apple-mobile-web-app-status-bar-style" content="white">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-touch-fullscreen" content="yes">
        <meta name="format-detection" content="telephone=yes">

        <!-- Microsoft -->
        <meta name="msapplication-tooltip" content="types.universal.external - ASN.1 D Library">
        <meta name="msapplication-TileColor" content="#FFFFFF">

        <!-- Miscellaneous -->
        <meta name="designer" content="Jonathan M. Wilbur jonathan@wilbur.space">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="version" content="1.0.0">
        <meta name="copyright" content="Copyright 2018 (C) Jonathan M. Wilbur.">
        <meta name="language" content="English">

        <!-- Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:locale" content="en_US">
        <meta property="og:url" content="https://github.com/JonathanWilbur/asn1-d">
        <meta property="og:title" content="types.universal.external - ASN.1 D Library">
        <meta property="og:description" content="ASN.1 Codecs, as specified in ITU X.690, including BER, DER, and PER">
        <meta property="og:site_name" content="GitHub">

        <!-- Twitter -->
        <meta name="twitter:card" content="website">
        <meta name="twitter:url" content="https://github.com/JonathanWilbur/asn1-d">
        <meta name="twitter:title" content="types.universal.external - ASN.1 D Library">
        <meta name="twitter:description" content="ASN.1 Codecs, as specified in ITU X.690, including BER, DER, and PER">

        <!-- Application -->
        <style type="text/css">
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    color: #661515;
    background-image: linear-gradient(to right, #FFFFEE 0%, #FFCCBB 100%);
    margin: 20px;
}

a {
    color: #AA0000;
	font-weight: 500;
	-webkit-transition: color 0.2s;
    transition: color 0.2s;
    text-decoration-style: none;
}

a:hover {
	color: #FF2222;
}

a::before,a::after {
	font-weight: 100;
	font-size: 110%;
	line-height: 1;
	opacity: 0;
	-webkit-transition: opacity 0.2s, -webkit-transform 0.2s;
	transition: opacity 0.2s, transform 0.2s;
}

a::before {
	left: -0.1em;
	content: '[';
	-webkit-transform: translateX(-100%);
	transform: translateX(-100%);
}

a::after {
	right: -0.1em;
	content: ']';
	-webkit-transform: translateX(100%);
	transform: translateX(100%);
}

a:hover::before,a:hover::after {
	opacity: 1;
	-webkit-transform: translateX(0);
	transform: translateX(0);
}

code, .mono {
    font-family: Courier New, Courier, monospace;
}

.d.inline {
    display: inline-block;
}

.d.block .declaration {
    display: block;
    padding: 10px;
    margin: 10px;
}

.declaration {
    background-color: #FFFFEE;
    border-radius: 5px;
    padding: 10px;
    margin: 10px;
}

#summary, .description {
    margin: 5px;
    padding: 5px;
}

.module-info {
	margin-bottom: 100px;
}

.member {
	font-weight: bold;
}
        </style>
    </head>
    <body>
        <div id="header">
            <h1>types.universal.external</h1>
            <h2>ASN.1 Codecs, as specified in ITU X.690, including BER, DER, and PER</h2>
        </div>
        <div id="content">
            
<section class="module-members">
    <ul class="ddoc_members">
	<li class="ddoc_member"><a href="#External" id="External"><code class="member">External</code></a>
<section class="declaration">
    <code>
        <span class="ddoc_anchor" id="External"></span>struct <code class="code">External</code>;

    </code>
</section>
<div><section class="module-info"><section id="summary">According to the
    <a href="http://www.itu.int/en/pages/default.aspx">        International Telecommunications Union</a>'s
    <a href="https://www.itu.int/rec/T-REC-X.680/en">        X.680 - Abstract Syntax Notation One (ASN.1)</a>,
    the abstract definition for an EXTERNAL, after removing the comments in the
    specification, is as follows:
</section>
<div class="description"><i>        EXTERNAL ::= [UNIVERSAL 8] SEQUENCE {
            identification CHOICE {
                syntaxes SEQUENCE {
                    abstract OBJECT IDENTIFIER,
                    transfer OBJECT IDENTIFIER },
                syntax OBJECT IDENTIFIER,
                presentation-context-id INTEGER,
                context-negotiation SEQUENCE {
                    presentation-context-id INTEGER,
                    transfer-syntax OBJECT IDENTIFIER },
                transfer-syntax OBJECT IDENTIFIER,
                fixed NULL },
            data-value-descriptor ObjectDescriptor OPTIONAL,
            data-value OCTET STRING }
                ( WITH COMPONENTS {
                    ... ,
                    identification ( WITH COMPONENTS {
                        ... ,
                        syntaxes ABSENT,
                        transfer-syntax ABSENT,
                        fixed ABSENT } ) } )
    </i>
<br><br>
    Note that the abstract syntax resembles that of EMBEDDED PDV and
    CharacterString, except with a WITH COMPONENTS constraint that removes some
    of our choices of identification.
    As can be seen on page 303 of Olivier Dubuisson's
    <i><a href="http://www.oss.com/asn1/resources/books-whitepapers-pubs/dubuisson-asn1-book.PDF">        ASN.1: Communication Between Heterogeneous Systems</a></i>,
    after applying the WITH COMPONENTS constraint, our reduced syntax becomes:
<br><br>
    <i>        EXTERNAL ::= [UNIVERSAL 8] IMPLICIT SEQUENCE {
            identification CHOICE {
                syntax OBJECT IDENTIFIER,
                presentation-context-id INTEGER,
                context-negotiation SEQUENCE {
                    presentation-context-id INTEGER,
                    transfer-syntax OBJECT IDENTIFIER } },
            data-value-descriptor ObjectDescriptor OPTIONAL,
            data-value OCTET STRING }
    </i>
<br><br>
    But, according to the
    <a href="http://www.itu.int/en/pages/default.aspx">    International Telecommunications Union</a>'s
    <a href="http://www.itu.int/rec/T-REC-X.690/en">X.690 - ASN.1 encoding rules</a>,
    section 8.18, when encoded using Basic Encoding Rules (BER), is encoded as
    follows, for compatibility reasons:
<br><br>
    <i>        EXTERNAL ::= [UNIVERSAL 8] IMPLICIT SEQUENCE {
            direct-reference  OBJECT IDENTIFIER OPTIONAL,
            indirect-reference  INTEGER OPTIONAL,
            data-value-descriptor  ObjectDescriptor  OPTIONAL,
            encoding  CHOICE {
                single-ASN1-type  [0] ANY,
                octet-aligned     [1] IMPLICIT OCTET STRING,
                arbitrary         [2] IMPLICIT BIT STRING } }
    </i>
<br><br>
    The definition above is the pre-1994 definition of EXTERNAL. The syntax
    field of the post-1994 definition maps to the direct-reference field of
    the pre-1994 definition. The presentation-context-id field of the post-1994
    definition maps to the indirect-reference field of the pre-1994 definition.
    If context-negotiation is used, per the abstract syntax, then the
    presentation-context-id field of the context-negotiation SEQUENCE in the
    post-1994 definition maps to the indirect-reference field of the pre-1994
    definition, and the transfer-syntax field of the context-negotiation
    SEQUENCE maps to the direct-reference field of the pre-1994 definition.
<br><br>
    The following additional constraints are applied to the abstract syntax
    when using Canonical Encoding Rules or Distinguished Encoding Rules,
    which are also defined in the
    <a href="http://www.itu.int/en/pages/default.aspx">    International Telecommunications Union</a>'s
    <a href="http://www.itu.int/rec/T-REC-X.690/en">X.690 - ASN.1 encoding rules</a>:
<br><br>
    <i>        EXTERNAL ( WITH COMPONENTS {
            ... ,
            identification ( WITH COMPONENTS {
                ... ,
                presentation-context-id ABSENT,
                context-negotiation ABSENT } ) } )
    </i>
<br><br>
    The stated purpose of the constraints shown above is to restrict the use of
    the presentation-context-id, either by itself or within the
    context-negotiation, which makes the following the effective abstract
    syntax of EXTERNAL when using Canonical Encoding Rules or
    Distinguished Encoding Rules:
<br><br>
    <i>        EXTERNAL ::= [UNIVERSAL 8] SEQUENCE {
            identification CHOICE {
                syntaxes SEQUENCE {
                    abstract OBJECT IDENTIFIER,
                    transfer OBJECT IDENTIFIER },
                syntax OBJECT IDENTIFIER,
                presentation-context-id INTEGER,
                context-negotiation SEQUENCE {
                    presentation-context-id INTEGER,
                    transfer-syntax OBJECT IDENTIFIER },
                transfer-syntax OBJECT IDENTIFIER,
                fixed NULL },
            data-value-descriptor ObjectDescriptor OPTIONAL,
            data-value OCTET STRING }
                ( WITH COMPONENTS {
                    ... ,
                    identification ( WITH COMPONENTS {
                        ... ,
                        syntaxes ABSENT,
                        presentation-context-id ABSENT,
                        context-negotiation ABSENT,
                        transfer-syntax ABSENT,
                        fixed ABSENT } ) } )
    </i>
<br><br>
    With the constraints applied, the abstract syntax for EXTERNALs encoded
    using Canonical Encoding Rules or Distinguished Encoding Rules becomes:
<br><br>
    <i>        EXTERNAL ::= [UNIVERSAL 8] SEQUENCE {
            identification CHOICE {
                syntax OBJECT IDENTIFIER },
            data-value-descriptor ObjectDescriptor OPTIONAL,
            data-value OCTET STRING }
    </i>
<br><br>
    Upon removing the CHOICE tag (since you have no choice but to use syntax
    at this point), the encoding definition when using
    Canonical Encoding Rules or Distinguished Encoding Rules:
<br><br>
    <i>        EXTERNAL ::= [UNIVERSAL 8] SEQUENCE {
            syntax OBJECT IDENTIFIER,
            data-value-descriptor ObjectDescriptor OPTIONAL,
            data-value OCTET STRING }
    </i>
<br><br>
    For all encoding rules defined in the
    <a href="http://www.itu.int/en/pages/default.aspx">    International Telecommunications Union</a>'s
    <a href="http://www.itu.int/rec/T-REC-X.690/en">X.690 - ASN.1 encoding rules</a>
    (meaning Basic Encoding Rules, Canonical Encoding Rules, and
    Distinguished Encoding Rules), EXPLICIT tagging must be used when encoding
    the EXTERNAL type. Unlike the other Context-Switching Types, automatic
    tagging is NOT used when encoding with Basic Encoding Rules,
    Canonical Encoding Rules, or Distinguished Encoding Rules.</div>
</section>
<ul class="ddoc_members">
	<li class="ddoc_member"><a href="#External.identification" id="External.identification"><code class="member">identification</code></a>
<section class="declaration">
    <code>
        <span class="ddoc_anchor" id="External.identification"></span>ASN1ContextSwitchingTypeID <code class="code">identification</code>;

    </code>
</section>
<div><section class="module-info"><section id="summary">A field indicating the the transfer syntax used to indicate the means
        by which the data-value field is encoded. Can also be used to specify
        the abstract syntax of what is encoded.</section>
</section>
</div>
</li><li class="ddoc_member"><a href="#External.dataValueDescriptor" id="External.dataValueDescriptor"><code class="member">dataValueDescriptor</code></a>
<section class="declaration">
    <code>
        <span class="ddoc_anchor" id="External.dataValueDescriptor"></span>string <code class="code">dataValueDescriptor</code>;

    </code>
</section>
<div><section class="module-info"><section id="summary">An optional field used to describe the encoded data.</section>
</section>
</div>
</li><li class="ddoc_member"><a href="#External.dataValue" id="External.dataValue"><code class="member">dataValue</code></a>
<section class="declaration">
    <code>
        <span class="ddoc_anchor" id="External.dataValue"></span>ubyte[] <code class="code">dataValue</code>;

    </code>
</section>
<div><section class="module-info"><section id="summary">The encoded data</section>
</section>
</div>
</li><li class="ddoc_member"><a href="#External.encoding" id="External.encoding"><code class="member">encoding</code></a>
<section class="declaration">
    <code>
        <span class="ddoc_anchor" id="External.encoding"></span>ASN1ExternalEncodingChoice <code class="code">encoding</code>;

    </code>
</section>
<div><section class="module-info"><section id="summary">A field that exists only to determine the developer's choice of
        <code class="code">encoding</code> used, per the pre-1994 definition of EXTERNAL.
</section>
<div class="description">octet-aligned is a sensible default, since it is the most lax of the
        three choices.</div>
</section>
</div>
</li>
</ul>
</div>
</li><li class="ddoc_member"><a href="#ASN1ExternalEncodingChoice" id="ASN1ExternalEncodingChoice"><code class="member">ASN1ExternalEncodingChoice</code></a>
<section class="declaration">
    <code>
        <span class="ddoc_anchor" id="ASN1ExternalEncodingChoice"></span>alias <code class="code">ASN1ExternalEncodingChoice</code> = AbstractSyntaxNotation1ExternalEncodingChoice;

    </code>
</section>
<div>
</div>
</li><li class="ddoc_member"><a href="#AbstractSyntaxNotation1ExternalEncodingChoice" id="AbstractSyntaxNotation1ExternalEncodingChoice"><code class="member">AbstractSyntaxNotation1ExternalEncodingChoice</code></a>
<section class="declaration">
    <code>
        <span class="ddoc_anchor" id="AbstractSyntaxNotation1ExternalEncodingChoice"></span>enum <code class="code">AbstractSyntaxNotation1ExternalEncodingChoice</code>: ubyte;

    </code>
</section>
<div><section class="module-info"><section id="summary">The CHOICE of encoding used for the encoding of a pre-1994 EXTERNAL,
    as used by the Basic Encoding Rules, Canonical Encoding Rules, or
    Distinguished Encoding Rules.</section>
</section>
<ul class="ddoc_members">
	<li class="ddoc_member"><a href="#AbstractSyntaxNotation1ExternalEncodingChoice.singleASN1Type" id="AbstractSyntaxNotation1ExternalEncodingChoice.singleASN1Type"><code class="member">singleASN1Type</code></a>
<section class="declaration">
    <code>
        <span class="ddoc_anchor" id="AbstractSyntaxNotation1ExternalEncodingChoice.singleASN1Type"></span><code class="code">singleASN1Type</code>
    </code>
</section>
<div><section class="module-info"><section id="summary">single-ASN1-type [0] ABSTRACT-SYNTAX.&Type</section>
</section>
</div>
</li><li class="ddoc_member"><a href="#AbstractSyntaxNotation1ExternalEncodingChoice.singleAbstractSyntaxNotation1Type" id="AbstractSyntaxNotation1ExternalEncodingChoice.singleAbstractSyntaxNotation1Type"><code class="member">singleAbstractSyntaxNotation1Type</code></a>
<section class="declaration">
    <code>
        <span class="ddoc_anchor" id="AbstractSyntaxNotation1ExternalEncodingChoice.singleAbstractSyntaxNotation1Type"></span><code class="code">singleAbstractSyntaxNotation1Type</code>
    </code>
</section>
<div><section class="module-info"><section id="summary">single-ASN1-type [0] ABSTRACT-SYNTAX.&Type</section>
</section>
</div>
</li><li class="ddoc_member"><a href="#AbstractSyntaxNotation1ExternalEncodingChoice.octetAligned" id="AbstractSyntaxNotation1ExternalEncodingChoice.octetAligned"><code class="member">octetAligned</code></a>
<section class="declaration">
    <code>
        <span class="ddoc_anchor" id="AbstractSyntaxNotation1ExternalEncodingChoice.octetAligned"></span><code class="code">octetAligned</code>
    </code>
</section>
<div><section class="module-info"><section id="summary">octet-aligned [1] IMPLICIT OCTET STRING</section>
</section>
</div>
</li><li class="ddoc_member"><a href="#AbstractSyntaxNotation1ExternalEncodingChoice.arbitrary" id="AbstractSyntaxNotation1ExternalEncodingChoice.arbitrary"><code class="member">arbitrary</code></a>
<section class="declaration">
    <code>
        <span class="ddoc_anchor" id="AbstractSyntaxNotation1ExternalEncodingChoice.arbitrary"></span><code class="code">arbitrary</code>
    </code>
</section>
<div><section class="module-info"><section id="summary"><code class="code">arbitrary</code> [2] IMPLICIT BIT STRING</section>
</section>
</div>
</li>
</ul>
</div>
</li>
</ul>
</section>

        </div>
        <div id="footer">
            <span id="timestamp">Wed Jan 10 08:52:43 2018
</span>
        </div>
    </body>
</html>
